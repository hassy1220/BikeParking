<div class="container">
  <h1>編集画面</h1>
  <div id="map" style="width:100%; height:600px"></div>

  <%= render "layouts/error" %>

  <%= form_with model: @park,url: public_park_path(@park.id),method: :patch do |f| %>
  <table class="table">
      <tr>
          <td>Choose file(３枚まで)</td>
          <td><%= f.file_field :images,multiple:true,accept:"image/jpg" %></td>
      <tr>
           <td>駐輪場名</td>
           <td><%= f.text_field :name,class:"form-control" %></td>
      </tr>
      <tr>
           <td>説明事項</td>
           <td><%= f.text_area :description,class:"form-control" %></td>
      </tr>
      <tr>
           <td>駐車可能条件</td>
           <td><%= f.collection_radio_buttons :spec, Park.specs_i18n, :first , :last %></td>
      </tr>
      <tr>
          <td>目的地</td>
          <td><%= f.text_field :purpose,class:"form-control" %></td>
      </tr>
      <tr>
           <td>金額</td>
           <td><%= f.text_field :price %> / <%= f.select :parking_time,*[1..24] %>時間</td>
      </tr>
           <%= f.hidden_field :lat,value: @park.lat %>
           <%= f.hidden_field :lng,value: @park.lng %>
           <%= f.hidden_field :addressOutput,value: @park.addressOutput %>
           <%= fields_for :vicinity do |f| %>
             <%= f.hidden_field :vicinity_name,value: @park.park_vicinity.pluck(:vicinity_name) %>
           <% end %>
    </table>
    <div class="text-center">
           <%= f.submit"送信",class:"btn btn-success" %>
    </div>
  <% end %>

</div>

<!--コントローラから渡された編集するparkの情報をjavascriptにわたすための記述-->
<input type="hidden" id="serve_park_lat" value='<%= @park.lat %>'>
<input type="hidden" id="serve_park_lng" value='<%= @park.lng %>'>

<%= javascript_pack_tag 'park/edit' %>